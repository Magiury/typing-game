<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mini English Practice</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f2f4f7;
  margin: 0;
}

header {
  background: #1976d2;
  color: white;
  padding: 16px;
  text-align: center;
}

nav button {
  margin: 6px;
  padding: 10px 16px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-weight: bold;
  color: #1976d2;
}

main {
  max-width: 800px;
  margin: 20px auto;
  background: white;
  padding: 20px;
  border-radius: 6px;
}

.question {
  margin-top: 16px;
}

.question label {
  display: block;
  margin: 4px 0;
}

.submit {
  margin-top: 20px;
  padding: 10px;
  width: 100%;
  background: #1976d2;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

audio {
  width: 100%;
  margin: 10px 0;
}
</style>
</head>

<body>

<header>
  <h1>ðŸ“˜ Mini English Practice</h1>
  <nav>
    <button onclick="showReading()">Reading</button>
    <button onclick="showListening()">Listening</button>
  </nav>
</header>

<main id="app"></main>

<script>
// ================= DATA =================

const readingLesson = {
  title: "The Benefits of Exercise",
  content: `
    Exercise is very important for our health.
    It helps us stay strong, reduce stress,
    and improve our mood.
  `,
  questions: [
    {
      q: "What is the passage mainly about?",
      options: ["Food", "Exercise", "Sleep"],
      answer: 1
    }
  ]
};

const listeningLesson = {
  title: "A Daily Routine",
  audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",
  transcript: "The speaker is talking about their daily routine.",
  questions: [
    {
      q: "What is the audio about?",
      options: ["Travel", "Daily routine", "Music"],
      answer: 1
    }
  ]
};

// ================= RENDER =================

function showReading() {
  document.getElementById("app").innerHTML = `
    <h2>${readingLesson.title}</h2>
    <p>${readingLesson.content}</p>

    ${renderQuestions(readingLesson.questions)}
    <button class="submit" onclick="checkAnswers(${JSON.stringify(readingLesson.questions)})">
      Submit
    </button>

    <div id="result"></div>
  `;
}

function showListening() {
  document.getElementById("app").innerHTML = `
    <h2>${listeningLesson.title}</h2>
    <audio controls src="${listeningLesson.audio}"></audio>
    <p><strong>Transcript:</strong> ${listeningLesson.transcript}</p>

    ${renderQuestions(listeningLesson.questions)}
    <button class="submit" onclick="checkAnswers(${JSON.stringify(listeningLesson.questions)})">
      Submit
    </button>

    <div id="result"></div>
  `;
}

function renderQuestions(questions) {
  return questions.map((q, i) => `
    <div class="question">
      <p>${q.q}</p>
      ${q.options.map((o, j) => `
        <label>
          <input type="radio" name="q${i}" value="${j}">
          ${o}
        </label>
      `).join("")}
    </div>
  `).join("");
}

function checkAnswers(questions) {
  let score = 0;
  questions.forEach((q, i) => {
    const selected = document.querySelector(`input[name="q${i}"]:checked`);
    if (selected && Number(selected.value) === q.answer) {
      score++;
    }
  });

  document.getElementById("result").innerHTML =
    `<h3>Score: ${score} / ${questions.length}</h3>`;
}

// default
showReading();
</script>

</body>
</html>
